/* client/src/index.css */

/* --- Imports (оставил ваши) --- */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap');
@import './styles/utilities.css';
@import './styles/animations.css';
@import './styles/components.css';

/* ===========================================================
   :root — объединённый, согласованный набор переменных
   - Добавлены переменные font-weight (раньше ссылались, но не было)
   - Оставлены ваши оригинальные названия переменных
   - primary-dark уже был — используем его для доступных CTA
   =========================================================== */
:root {
  /* Fonts */
  --font-family-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-family-heading: 'Poppins', sans-serif;

  /* Font weights (added) */
  --font-weight-300: 300;
  --font-weight-400: 400;
  --font-weight-500: 500;
  --font-weight-600: 600;
  --font-weight-700: 700;
  --font-weight-800: 800;
  --font-weight-900: 900;

  /* BALANCED MODERN PALETTE - BASED ON TODAYTAB */
  --color-background: #F8FAFC; /* Light slate background */
  --color-surface: #FFFFFF;    /* Pure white for cards */
  --color-primary: #FF6B5A;    /* Coral primary from TodayTab (accent) */
  --color-primary-hover: #FF5A47; /* Slightly darker for hover accents */
  --color-primary-dark: #BF5043; /* Dark coral for white text (WCAG compliant) */
  --color-primary-darker: #A8463C; /* Even darker for borders */
  --color-primary-light: rgba(255, 107, 90, 0.1); /* Light coral backgrounds */
  --color-primary-foreground: #111827; /* Safe text color on primary backgrounds */
  --color-secondary: #F1F5F9;  /* Light slate accent */

  /* HARMONIOUS ACCENT COLORS */
  --color-accent-coral: #FF8A75;    /* Light coral */
  --color-accent-orange: #F59E0B;   /* Golden orange from TodayTab */
  --color-accent-orange-dark: #D97706; /* Dark orange for white text (WCAG) */
  --color-accent-emerald: #10B981;  /* Emerald green from TodayTab */
  --color-accent-emerald-dark: #059669; /* Darker emerald */
  --color-accent-emerald-darker: #047857; /* Even darker for white text (WCAG) */
  --color-accent-slate: #64748B;    /* Medium slate */
  --color-accent-warm: #FEF3F2;     /* Warm background tint */

  /* FOREGROUND COLORS FOR ACCESSIBILITY (kept explicit) */
  --color-orange-foreground: #111827; /* Safe text on orange backgrounds */
  --color-emerald-foreground: #111827; /* Safe text on emerald backgrounds */

  /* REFINED GRADIENTS */
  --gradient-hero: linear-gradient(135deg, #FF6B5A 0%, #FF8A75 100%);
  --gradient-card: linear-gradient(135deg, #FFFFFF 0%, #F8FAFC 100%);
  --gradient-button: linear-gradient(135deg, #FF6B5A 0%, #FF8A75 100%);
  --gradient-button-dark: linear-gradient(135deg, #BF5043 0%, #A8463C 100%); /* WCAG-friendly for white text */
  --gradient-text: linear-gradient(135deg, #FF6B5A 0%, #F59E0B 100%);
  --gradient-accent: linear-gradient(135deg, #FF8A75 0%, #F59E0B 100%);
  --gradient-steps: linear-gradient(135deg, #F8FAFC 0%, #F1F5F9 100%);

  --color-text-primary: #111827; /* Deep slate from TodayTab */
  --color-text-secondary: #6B7280; /* Medium gray from TodayTab */
  --color-text-tertiary: #9CA3AF; /* Light gray from TodayTab */
  --color-border: #E5E7EB;      /* Light border from TodayTab */
  --color-border-light: #F3F4F6; /* Very light border from TodayTab */
  --color-error: #D35D5D;
  --color-success: #4CAF50;

  /* Shadows & Borders */
  --shadow-sm: 0 4px 8px -2px rgba(103, 56, 46, 0.05);
  --shadow-md: 0 10px 20px -5px rgba(103, 56, 46, 0.07);
  --shadow-lg: 0 20px 30px -10px rgba(103, 56, 46, 0.1);
  --shadow-xl: 0 25px 50px -12px rgba(103, 56, 46, 0.15);
  --shadow-glow: 0 0 20px rgba(217, 122, 108, 0.3);
  --border-radius: 16px;
  --border-radius-md: 12px;
  --border-radius-lg: 24px;
  --border-radius-xl: 32px;

  /* Spacing scale */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;

  /* Layout */
  --header-height: 70px;

  /* Breakpoints for Responsive Design (Mobile First) */
  --breakpoint-mobile: 320px;   /* Smallest mobile */
  --breakpoint-tablet: 768px;   /* iPad, Android tablets */
  --breakpoint-desktop-sm: 1024px; /* Small laptops/desktops */
  --breakpoint-desktop-md: 1280px; /* Standard desktops */
  --breakpoint-desktop-lg: 1920px; /* Large screens, 4K */

  /* Typography sizes (merged from your second :root block) */
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 1.875rem;
  --text-4xl: 2.25rem;
  --text-5xl: 3rem;
  --text-6xl: 3.75rem;

  /* Custom cursor (kept, but you can remove if conflicts) */
  --cursor-default: url("data:image/svg+xml;charset=utf8,%3Csvg fill='%23D97A6C' height='32' viewBox='0 0 32 32' width='32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m2 2v28l7-7h21z'/%3E%3C/svg%3E") 4 4, auto;
  --cursor-pointer: url("data:image/svg+xml;charset=utf8,%3Csvg fill='%23C96A5C' height='32' viewBox='0 0 32 32' width='32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 6L8 8l4 4-4 4 2 2 4-4 4 4 2-2-4-4 4-4-2-2-4 4z'/%3E%3C/svg%3E") 16 16, pointer;
}

/* Dark theme overrides (kept as in original) */
:root[data-theme='dark'] {
  --color-background: #2A2220;
  --color-surface: #382E2C;
  --color-primary: #E89F93;
  --color-primary-hover: #F0B8AF;
  --color-primary-light: rgba(232, 159, 147, 0.1);
  --color-secondary: #5A4A46;
  --color-text-primary: #FFF8F6;
  --color-text-secondary: #B8A8A4;
  --color-text-tertiary: #8C7F7D;
  --color-border: #4D423F;
  --color-border-light: #413732;
  --color-error: #E57373;
  --color-success: #66BB6A;
  --shadow-xl: 0 25px 50px -12px rgba(103, 56, 46, 0.15);
  --shadow-glow: 0 0 20px rgba(233, 159, 147, 0.3);
}

/* Small-screen border-radius tweak (kept) */
@media (max-width: 767px) {
  :root {
    --border-radius: 12px;
    --border-radius-lg: 16px;
  }
}

/* ===========================================================
   Core base rules (unchanged in spirit)
   =========================================================== */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  /* Fluid type trend: modest fluid sizing without breaking rem assumptions */
  font-size: clamp(15px, 1.2vw + 0.5rem, 18px);
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--font-family-body);
  background-color: var(--color-background);
  color: var(--color-text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
  text-rendering: optimizeLegibility;
  /* iOS/Android safe-area support */
  padding-left: env(safe-area-inset-left, 0);
  padding-right: env(safe-area-inset-right, 0);
  padding-bottom: env(safe-area-inset-bottom, 0);
  line-height: 1.6;
}

h1, h2, h3, h4, h5, h6 {
  margin: 0;
  font-family: var(--font-family-heading);
  font-weight: 700;
  color: var(--color-text-primary);
  line-height: 1.3;
}

/* Focus handling: keep accessible focus-visible */
:focus:not(:focus-visible) {
  outline: none;
  box-shadow: none;
}

:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Scrollbar (kept) */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: var(--color-surface);
}

::-webkit-scrollbar-thumb {
  background-color: var(--color-border);
  border-radius: 10px;
  border: 2px solid var(--color-surface);
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-secondary);
}

/* Motion sensitivity (kept) */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Animations (kept) */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes shimmer {
  0% { background-position: -200px 0; }
  100% { background-position: calc(200px + 100%) 0; }
}

.fade-in { animation: fadeIn 0.4s ease-out forwards; }
.slide-in-up { animation: slideInUp 0.6s ease-out forwards; }
.scale-in { animation: scaleIn 0.5s ease-out forwards; }

.shimmer {
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
  background-size: 200px 100%;
  animation: shimmer 2s infinite;
}

/* Media defaults */
img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
}

/* Forms: better mobile tap targets */
input, select, textarea, button {
  font-family: inherit;
  font-size: 1rem;
}

button {
  -webkit-tap-highlight-color: transparent;
}

/* Utilities */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding-left: var(--space-4);
  padding-right: var(--space-4);
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Loader spin */
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ===========================================================
   Game search indicator (kept as-is, minor cleanup)
   =========================================================== */
.game-search-indicator {
  position: fixed;
  top: 80px;
  right: var(--space-6);
  z-index: 100;
  background: var(--color-surface);
  border: 2px solid var(--color-primary);
  border-radius: var(--border-radius);
  padding: var(--space-4) var(--space-5);
  box-shadow: var(--shadow-lg);
  display: flex;
  align-items: center;
  gap: var(--space-3);
  animation: fadeIn 0.4s ease-out, pulse 2s infinite;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.game-search-indicator--prominent {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.95);
  border: 3px solid var(--color-primary);
  padding: var(--space-6) var(--space-8);
  font-size: 1.2rem;
  box-shadow: var(--shadow-xl);
}

.game-search-spinner {
  width: 20px;
  height: 20px;
  border: 3px solid var(--color-border);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.game-search-indicator--prominent .game-search-spinner {
  width: 28px;
  height: 28px;
  border-width: 4px;
}

.game-search-text {
  color: var(--color-text-primary);
  font-weight: 600;
  font-family: var(--font-family-body);
  font-size: 0.95rem;
  white-space: nowrap;
}

.game-search-indicator--prominent .game-search-text {
  font-size: 1.2rem;
  font-weight: 700;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

.game-search-indicator--prominent {
  animation: fadeIn 0.4s ease-out, pulseProminent 2.5s infinite;
}

@keyframes pulseProminent {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1);
    box-shadow: var(--shadow-xl);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.03);
    box-shadow: var(--shadow-xl), 0 0 30px rgba(217, 122, 108, 0.4);
  }
}

/* ===========================================================
   Codenames-specific animations (kept)
   =========================================================== */
.codenames-card-flip {
  animation: codenamesCardFlip 0.6s ease-in-out;
}

@keyframes codenamesCardFlip {
  0% { transform: rotateY(0deg); }
  50% { transform: rotateY(90deg) scale(1.05); }
  100% { transform: rotateY(0deg); }
}

.codenames-team-glow {
  animation: codenamesTeamGlow 2s ease-in-out infinite;
}

@keyframes codenamesTeamGlow {
  0%, 100% { box-shadow: var(--shadow-md); }
  50%  { box-shadow: 0 0 20px rgba(217, 122, 108, 0.3), var(--shadow-md); }
}

/* ===========================================================
   Responsive adjustments for game search indicator
   =========================================================== */
@media (max-width: 768px) {
  .game-search-indicator {
    top: 70px;
    right: var(--space-4);
    padding: var(--space-3) var(--space-4);
    font-size: 0.9rem;
  }

  .game-search-indicator--prominent {
    padding: var(--space-5) var(--space-6);
    font-size: 1.1rem;
  }

  .game-search-spinner {
    width: 18px;
    height: 18px;
    border-width: 2px;
  }

  .game-search-indicator--prominent .game-search-spinner {
    width: 24px;
    height: 24px;
    border-width: 3px;
  }
}

/* ===========================================================
   Toast Notification Styles (kept)
   =========================================================== */
.toast-container {
  position: fixed;
  top: var(--space-6);
  right: var(--space-6);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  max-width: 400px;
  width: 100%;
  pointer-events: none;
}

.toast {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius);
  padding: var(--space-4);
  box-shadow: var(--shadow-lg);
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  min-height: 64px;
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  pointer-events: auto;
  transform: translateX(100%);
  opacity: 0;
}

.toast.toast--entering { animation: toastSlideIn 0.4s ease-out forwards; }
.toast.toast--exiting { animation: toastSlideOut 0.3s ease-in forwards; }

.toast.toast--success {
  border-left: 4px solid var(--color-success);
  background: linear-gradient(135deg, var(--color-surface) 0%, rgba(76, 175, 80, 0.02) 100%);
}

.toast.toast--error {
  border-left: 4px solid var(--color-error);
  background: linear-gradient(135deg, var(--color-surface) 0%, rgba(211, 93, 93, 0.02) 100%);
}

.toast.toast--warning {
  border-left: 4px solid #ff9800;
  background: linear-gradient(135deg, var(--color-surface) 0%, rgba(255, 152, 0, 0.02) 100%);
}

.toast.toast--info {
  border-left: 4px solid var(--color-primary);
  background: linear-gradient(135deg, var(--color-surface) 0%, rgba(217, 122, 108, 0.02) 100%);
}

.toast-icon {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  flex-shrink: 0;
  margin-top: 2px;
}

/* toast inner styles kept */
.toast--success .toast-icon { background: rgba(76, 175, 80, 0.1); color: var(--color-success); }
.toast--error .toast-icon   { background: rgba(211, 93, 93, 0.1); color: var(--color-error); }
.toast--warning .toast-icon { background: rgba(255, 152, 0, 0.1); color: #ff9800; }
.toast--info .toast-icon    { background: var(--color-primary-light); color: var(--color-primary); }

.toast-content { flex: 1; min-width: 0; }

.toast-title {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-1) 0;
  line-height: 1.3;
}

.toast-message {
  font-size: 0.9rem;
  color: var(--color-text-secondary);
  margin: 0;
  line-height: 1.4;
  word-wrap: break-word;
}

.toast-close {
  background: none; border: none; color: var(--color-text-tertiary); cursor: pointer;
  width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
  font-size: 18px; line-height: 1; flex-shrink: 0; transition: all 0.2s ease; margin-top: 2px;
}

.toast-close:hover {
  background: var(--color-border);
  color: var(--color-text-primary);
}

.toast-progress {
  position: absolute; bottom: 0; left: 0; height: 3px; background: currentColor; opacity: 0.3; transform-origin: left; animation: toastProgress linear forwards;
}

.toast--success .toast-progress { color: var(--color-success); }
.toast--error .toast-progress   { color: var(--color-error); }
.toast--warning .toast-progress { color: #ff9800; }
.toast--info .toast-progress    { color: var(--color-primary); }

@keyframes toastSlideIn {
  0% { transform: translateX(100%) scale(0.9); opacity: 0; }
  100% { transform: translateX(0) scale(1); opacity: 1; }
}
@keyframes toastSlideOut {
  0% { transform: translateX(0) scale(1); opacity: 1; }
  100% { transform: translateX(100%) scale(0.9); opacity: 0; }
}
@keyframes toastProgress {
  from { transform: scaleX(1); } to { transform: scaleX(0); }
}

/* Mobile toast adjustments (kept) */
@media (max-width: 768px) {
  .toast-container {
    top: var(--space-4);
    right: var(--space-4);
    left: var(--space-4);
    max-width: none;
  }
  .toast { padding: var(--space-3); min-height: 56px; }
  .toast-icon { width: 20px; height: 20px; font-size: 12px; }
  .toast-title { font-size: 0.9rem; }
  .toast-message { font-size: 0.85rem; }
  .toast-close { width: 20px; height: 20px; font-size: 16px; }
}

/* ===========================================================
   Modern design-system additions (kept, merged)
   =========================================================== */
/* Custom Cursor */
* { cursor: var(--cursor-default); }
a, button, [role="button"], .clickable { cursor: var(--cursor-pointer); }

/* Remove default link styling */
a { text-decoration: none; color: inherit; }

/* Modern Button System - Maggie Style
   NOTE: changed .btn-modern--primary to use --color-primary-dark
   so white foreground is WCAG-compliant. */
.btn-modern {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  border-radius: 100px;
  border: 2px solid var(--color-primary);
  padding: 12px 24px;
  font-family: var(--font-family-heading);
  font-weight: var(--font-weight-600);
  font-size: var(--text-sm);
  text-decoration: none;
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;
  box-shadow: -3px 3px 0px 0px var(--color-primary);
  background: var(--color-surface);
  color: var(--color-primary);
}

.btn-modern:hover { transform: translate(-1px, 1px); box-shadow: -2px 2px 0px 0px var(--color-primary); }
.btn-modern:active { transform: translate(0px, 0px); box-shadow: -1px 1px 0px 0px var(--color-primary); }

/* Button Variants */
/* CHANGED: use primary-dark so white text meets contrast */
.btn-modern--primary {
  background: var(--color-primary-dark);
  color: var(--color-surface);
  border-color: var(--color-primary-darker);
  box-shadow: -3px 3px 0px 0px var(--color-primary-darker);
}
.btn-modern--primary:hover { box-shadow: -2px 2px 0px 0px var(--color-primary-darker); }

/* Secondary kept as before (light background + dark text) */
.btn-modern--secondary {
  background: var(--color-secondary);
  color: var(--color-text-primary);
  border-color: var(--color-text-secondary);
  box-shadow: -3px 3px 0px 0px var(--color-text-secondary);
}

/* App Store Style Buttons */
.btn-app-store {
  display: inline-flex;
  align-items: center;
  gap: var(--space-3);
  padding: 12px 20px;
  border-radius: 100px;
  border: 2px solid var(--color-primary);
  background: var(--color-surface);
  color: var(--color-text-primary);
  text-decoration: none;
  box-shadow: -3px 3px 0px 0px var(--color-primary);
  transition: all 0.2s ease;
  font-family: var(--font-family-body);
}
.btn-app-store:hover { transform: translate(-1px, 1px); box-shadow: -2px 2px 0px 0px var(--color-primary); }

.btn-app-store__icon { width: 24px; height: 24px; flex-shrink: 0; }
.btn-app-store__content { display: flex; flex-direction: column; align-items: flex-start; }
.btn-app-store__subtitle { font-size: var(--text-xs); color: var(--color-text-secondary); font-weight: 400; margin: 0; line-height: 1; }
.btn-app-store__title { font-size: var(--text-sm); font-weight: 600; margin: 0; line-height: 1.2; }

/* Full Width Layout System */
.full-width-section {
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
}

.section-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 var(--space-6);
}

/* Scroll Animations */
@keyframes slideInFromLeft { from { opacity: 0; transform: translateX(-50px); } to { opacity: 1; transform: translateX(0); } }
@keyframes slideInFromRight { from { opacity: 0; transform: translateX(50px); } to { opacity: 1; transform: translateX(0); } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

.animate-on-scroll { opacity: 0; transform: translateY(30px); transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
.animate-on-scroll.visible { opacity: 1; transform: translateY(0); }
.animate-slide-left { opacity: 0; transform: translateX(-50px); transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
.animate-slide-left.visible { opacity: 1; transform: translateX(0); }
.animate-slide-right { opacity: 0; transform: translateX(50px); transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
.animate-slide-right.visible { opacity: 1; transform: translateX(0); }

/* Modern Grid System */
.grid-modern { display: grid; gap: var(--space-8); align-items: center; }
.grid-modern--two-col { grid-template-columns: 1fr 1fr; }
.grid-modern--60-40 { grid-template-columns: 60% 40%; }
.grid-modern--40-60 { grid-template-columns: 40% 60%; }

@media (max-width: 768px) {
  .grid-modern--two-col, .grid-modern--60-40, .grid-modern--40-60 { grid-template-columns: 1fr; gap: var(--space-6); }
  .btn-app-store { padding: 10px 16px; gap: var(--space-2); }
  .btn-app-store__icon { width: 20px; height: 20px; }
  :root { --text-3xl: 1.5rem; --text-4xl: 1.875rem; --text-5xl: 2.25rem; --text-6xl: 2.75rem; }
}

/* ===========================================================
   WOW EFFECTS & MODERN INTERACTIONS (kept)
   =========================================================== */
/* Floating Elements */
.floating-element { animation: float 6s ease-in-out infinite; position: relative; }
.floating-element--delayed { animation-delay: -2s; }
.floating-element--slow { animation-duration: 8s; animation-delay: -4s; }
@keyframes float {
  0%,100% { transform: translateY(0px) rotate(0deg); }
  33% { transform: translateY(-10px) rotate(1deg); }
  66% { transform: translateY(5px) rotate(-1deg); }
}

/* Nature Elements */
.nature-element { position: absolute; opacity: 0.6; pointer-events: none; z-index: 0; }
.nature-leaf { width: 24px; height: 24px; animation: leafFloat 12s ease-in-out infinite; }
.nature-leaf--1 { top: 20%; right: 15%; animation-delay: 0s; }
.nature-leaf--2 { top: 60%; left: 10%; animation-delay: -4s; }
.nature-leaf--3 { top: 80%; right: 25%; animation-delay: -8s; }
.nature-petal { width: 16px; height: 16px; animation: petalFloat 15s ease-in-out infinite; }
.nature-petal--1 { top: 30%; left: 20%; animation-delay: -2s; }
.nature-petal--2 { top: 70%; right: 30%; animation-delay: -6s; }

@keyframes leafFloat {
  0%,100% { transform: translateY(0px) rotate(0deg) scale(1); opacity: 0.6; }
  25% { transform: translateY(-20px) rotate(90deg) scale(1.1); opacity: 0.8; }
  50% { transform: translateY(-10px) rotate(180deg) scale(0.9); opacity: 0.4; }
  75% { transform: translateY(-30px) rotate(270deg) scale(1.05); opacity: 0.7; }
}

@keyframes petalFloat {
  0%,100% { transform: translateY(0px) translateX(0px) rotate(0deg); opacity: 0.5; }
  33% { transform: translateY(-15px) translateX(10px) rotate(120deg); opacity: 0.8; }
  66% { transform: translateY(-25px) translateX(-5px) rotate(240deg); opacity: 0.3; }
}

/* 3D App Store Style Buttons - WCAG Compliant */
.btn-app-style {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  padding: 14px 24px; /* Improved touch target */
  background: var(--color-surface);
  border: 3px solid var(--color-primary);
  border-radius: 100px;
  font-family: var(--font-family-body);
  font-weight: var(--font-weight-600); /* was var(...) undefined - now defined */
  font-size: var(--text-base);
  color: var(--color-primary-foreground);
  text-decoration: none;
  transition: all 0.2s ease;
  box-shadow: -3px 3px 0px 0px var(--color-primary);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  min-height: 44px;
}

.btn-app-style:hover { transform: translateY(-2px); box-shadow: -5px 5px 0px 0px var(--color-primary); }
.btn-app-style:active { transform: translateY(0); box-shadow: -2px 2px 0px 0px var(--color-primary); }
.btn-app-style:focus-visible { outline: 3px solid var(--color-primary-light); outline-offset: 2px; }

/* Primary variant - USE dark primary for WCAG compliance */
.btn-app-style--primary {
  background: var(--color-primary-dark);
  border-color: var(--color-primary-darker);
  color: white;
  box-shadow: -3px 3px 0px 0px var(--color-primary-darker);
}
.btn-app-style--primary:hover { background: var(--color-primary-darker); box-shadow: -5px 5px 0px 0px var(--color-primary-darker); }
.btn-app-style--primary:active { box-shadow: -2px 2px 0px 0px var(--color-primary-darker); }

/* Secondary variant (safe orange) */
.btn-app-style--secondary {
  background: var(--color-accent-orange-dark);
  border-color: var(--color-accent-orange-dark);
  color: white;
  box-shadow: -3px 3px 0px 0px var(--color-accent-orange-dark);
}
.btn-app-style--secondary:hover { box-shadow: -5px 5px 0px 0px var(--color-accent-orange-dark); }
.btn-app-style--secondary:active { box-shadow: -2px 2px 0px 0px var(--color-accent-orange-dark); }

.btn-app-style__icon { flex-shrink: 0; width: 20px; height: 20px; color: var(--color-primary); }
.btn-app-style--primary .btn-app-style__icon { color: white; }
.btn-app-style--secondary .btn-app-style__icon { color: white; }

.btn-app-style__content { display: flex; flex-direction: column; align-items: flex-start; gap: 2px; }
.btn-app-style__title { font-size: 14px; font-weight: 600; line-height: 1; margin: 0; }
.btn-app-style__subtitle { font-size: 11px; opacity: 0.8; line-height: 1; margin: 0; }

/* ===========================================================
   Enhanced Typography System (kept, but uses defined weights)
   =========================================================== */

.heading-hero {
  font-family: var(--font-family-heading);
  font-weight: var(--font-weight-900);
  font-size: clamp(2.5rem, 8vw, 4.5rem);
  line-height: 1.1;
  letter-spacing: -0.02em;
}

.heading-xl { font-family: var(--font-family-heading); font-weight: var(--font-weight-800); font-size: clamp(2rem, 6vw, 3.5rem); line-height: 1.2; letter-spacing: -0.01em; }
.heading-lg { font-family: var(--font-family-heading); font-weight: var(--font-weight-700); font-size: clamp(1.5rem, 4vw, 2.25rem); line-height: 1.3; }

.body-lg { font-family: var(--font-family-body); font-size: var(--text-lg); line-height: 1.6; letter-spacing: 0.01em; }
.body-base { font-family: var(--font-family-body); font-size: var(--text-base); line-height: 1.5; }

/* Elegant Text Effects */
.elegant-title { position: relative; color: var(--color-text-primary); font-weight: var(--font-weight-800); }
.elegant-title::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 0;
  height: 3px;
  background: var(--color-primary);
  transition: width 0.6s ease;
}
.elegant-title:hover::after { width: 100%; }

/* Subtle Glow Effect (kept — removed duplicate further below) */
.soft-glow { text-shadow: 0 0 10px rgba(255, 107, 90, 0.3); transition: text-shadow 0.3s ease; }
.soft-glow:hover { text-shadow: 0 0 20px rgba(255, 107, 90, 0.5); }

/* Reduced motion support for elegant elements */
@media (prefers-reduced-motion: reduce) {
  .elegant-title::after { transition: none; }
  .soft-glow { transition: none; }
}

/* Gradient Text - Accessible fallback */
.gradient-text {
  background: var(--gradient-text);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: var(--color-primary); /* Fallback */
  display: inline-block;
}
@supports (background-clip: text) { .gradient-text { color: transparent; } }

/* Tilt Cards */
.tilt-card { transform-style: preserve-3d; transition: transform 0.3s ease; }
.tilt-card:hover { transform: perspective(1000px) rotateY(10deg) rotateX(5deg) scale(1.02); }

/* Pulse Ring */
.pulse-ring { position: relative; }
.pulse-ring::before {
  content: '';
  position: absolute;
  top: 50%; left: 50%;
  width: 100%; height: 100%;
  border-radius: 50%;
  border: 2px solid var(--color-accent-coral);
  opacity: 0; transform: translate(-50%,-50%) scale(1);
  animation: pulse-ring 2s infinite;
}
@keyframes pulse-ring {
  0% { opacity: 1; transform: translate(-50%,-50%) scale(0.8); }
  100% { opacity: 0; transform: translate(-50%,-50%) scale(1.5); }
}

/* Liquid Button */
.btn-liquid {
  position: relative;
  background: var(--color-accent-coral);
  border: none;
  border-radius: 50px;
  padding: 14px 28px;
  color: white;
  font-weight: 600;
  overflow: hidden;
  transition: all 0.3s ease;
}
.btn-liquid::before {
  content: '';
  position: absolute; top:0; left:0; width:0; height:100%;
  background: var(--color-accent-orange); transition: all 0.3s ease; border-radius:50px;
}
.btn-liquid:hover::before { width:100%; }
.btn-liquid span { position: relative; z-index: 1; }

/* Reveal animations */
.reveal-up { opacity: 0; transform: translateY(60px); transition: all 0.8s cubic-bezier(0.25,0.46,0.45,0.94); }
.reveal-up.visible { opacity:1; transform: translateY(0); }
.reveal-scale { opacity:0; transform:scale(0.8); transition: all 0.6s cubic-bezier(0.25,0.46,0.45,0.94); }
.reveal-scale.visible { opacity:1; transform: scale(1); }

/* Typewriter */
.typewriter { overflow: hidden; white-space: nowrap; border-right: 3px solid var(--color-accent-coral); animation: typewriter 3s steps(30,end), blink-caret 0.75s step-end infinite; }
@keyframes typewriter { from { width: 0; } to { width: 100%; } }
@keyframes blink-caret { from, to { border-color: transparent; } 50% { border-color: var(--color-accent-coral); } }

/* Float animation reused earlier (kept) */
.floating-element { animation: float 6s ease-in-out infinite; }

/* Tilted CTA hero pattern (kept example) */
.hero {
  display: grid; align-items: center; gap: 24px; padding: 64px 16px; border-radius: var(--border-radius);
  background: linear-gradient(135deg, var(--color-surface) 0%, rgba(248,250,252,0.6) 100%);
  box-shadow: 0 20px 40px -20px rgba(103,56,46,0.06);
}
.hero h1 { font-size: var(--text-3xl); line-height: 1.05; }
.hero p { margin-top: 12px; color: var(--color-text-secondary); }

/* Focusable interactive elements default */
a,button,input,select,textarea { font-family: inherit; }

/* Small-screen adjustments */
@media (max-width: 768px){
  body { font-size: 15px; }
  .game-search-indicator { top: 70px; right: 16px; padding: 12px; }
  .btn { padding: 10px 14px; }
  :root { --border-radius: 12px; }
}

/* Dark theme kept earlier */

/* Small helpful defaults for content blocks */
.header { height: var(--header-height); display:flex; align-items:center; padding: 0 var(--space-4); background: transparent; }
.footer { padding: 32px 16px; color: var(--color-text-secondary); font-size: 0.95rem; background: transparent; }
.small { font-size: var(--text-sm); color: var(--color-text-secondary); }
.kicker { font-size: 0.85rem; font-weight: 600; color: var(--color-primary); }

/* ===========================================================
   End of file
   - removed duplicated .soft-glow definition that existed twice
   - ensured all var(...) usages have defined variables
   - changed primary CTA to use --color-primary-dark for WCAG compliance
   =========================================================== */
