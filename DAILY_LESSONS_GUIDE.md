# üìö –°–∏—Å—Ç–µ–º–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —É—Ä–æ–∫–æ–≤ LoveMemory

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —É—Ä–æ–∫–æ–≤ - —ç—Ç–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –º–∏–∫—Ä–æ-–∑–∞–¥–∞–Ω–∏—è. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–±–∏—Ä–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —É—Ä–æ–∫ –¥–ª—è –ø–∞—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö –º–µ—Ç—Ä–∏–∫ –æ—Ç–Ω–æ—à–µ–Ω–∏–π, —è–∑—ã–∫–æ–≤ –ª—é–±–≤–∏ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend (Node.js/Express)

#### –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
- **RelationshipMetrics** - –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –ø–∞—Ä—ã
- **Lesson** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —É—Ä–æ–∫–æ–≤ —Å —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- **UserLessonProgress** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **PairDailyLesson** - –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ —É—Ä–æ–∫–∏ –¥–ª—è –ø–∞—Ä

#### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:
```
server/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ RelationshipMetrics.js
‚îÇ   ‚îú‚îÄ‚îÄ Lesson.js
‚îÇ   ‚îú‚îÄ‚îÄ UserLessonProgress.js
‚îÇ   ‚îî‚îÄ‚îÄ PairDailyLesson.js
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ lesson.service.js
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ lesson.routes.js
‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îú‚îÄ‚îÄ 20250129000000-update-users-for-lessons.js
‚îÇ   ‚îú‚îÄ‚îÄ 20250129000001-create-relationship-metrics.js
‚îÇ   ‚îú‚îÄ‚îÄ 20250129000002-create-lessons.js
‚îÇ   ‚îú‚îÄ‚îÄ 20250129000003-create-user-lesson-progress.js
‚îÇ   ‚îî‚îÄ‚îÄ 20250129000004-create-pair-daily-lessons.js
‚îî‚îÄ‚îÄ seeders/
    ‚îî‚îÄ‚îÄ 20250129000000-seed-lessons.js
```

### Frontend (React/TypeScript)

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **DailyLesson** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Ä–æ–∫–∞ –¥–Ω—è
- **LessonProgress** - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É—Ä–æ–∫–∞–º –∏ —Ç–µ–º–∞–º
- **LessonsPage** - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ç–∞–±–∞–º–∏

#### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:
```
client/src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ DailyLesson/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DailyLesson.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DailyLesson.module.css
‚îÇ   ‚îî‚îÄ‚îÄ LessonProgress/
‚îÇ       ‚îú‚îÄ‚îÄ LessonProgress.tsx
‚îÇ       ‚îî‚îÄ‚îÄ LessonProgress.module.css
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ LessonsPage/
‚îÇ       ‚îú‚îÄ‚îÄ LessonsPage.tsx
‚îÇ       ‚îî‚îÄ‚îÄ LessonsPage.module.css
‚îî‚îÄ‚îÄ services/
    ‚îî‚îÄ‚îÄ lesson.service.ts
```

## üîß –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–±–æ—Ä–∞ —É—Ä–æ–∫–æ–≤

### 1. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
- –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –ø–∞—Ä—ã (scores, heat_score, —Å—Ç–∞–¥–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π)
- Streak –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç—Ä–∏–≥–≥–µ—Ä–∞–º
```javascript
triggers: {
  love_language: ['words', 'acts'],
  context: ['low_heat'],
  gap_days: [2, 'more'],
  relationship_stage: ['established', 'mature']
}
```

### 3. –†–∞—Å—á–µ—Ç —Å–∫–æ—Ä–∞
```javascript
score = (match_language * 0.6) + (heat_impact * 0.3) + (novelty * 0.1)
```

### 4. –í—ã–±–æ—Ä —Å —ç–ª–µ–º–µ–Ω—Ç–æ–º —Ä–∞–Ω–¥–æ–º–Ω–æ—Å—Ç–∏
–í—ã–±–∏—Ä–∞–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ —Ç–æ–ø-3 —É—Ä–æ–∫–æ–≤ –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è.

## üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã —É—Ä–æ–∫–æ–≤

1. **prompt** - –ø—Ä–æ—Å—Ç–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
2. **chat** - –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —Å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º
3. **photo** - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
4. **quiz** - –≤–æ–ø—Ä–æ—Å—ã —Å –≤—ã–±–æ—Ä–æ–º –æ—Ç–≤–µ—Ç–∞
5. **choice** - –≤—ã–±–æ—Ä –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π

## üí∞ –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–∞–¥

### –ë–∞–∑–æ–≤—ã–µ –Ω–∞–≥—Ä–∞–¥—ã:
- 10 –º–æ–Ω–µ—Ç –∑–∞ –æ–±—ã—á–Ω—ã–π —É—Ä–æ–∫
- 15-25 –º–æ–Ω–µ—Ç –∑–∞ —Å–ª–æ–∂–Ω—ã–µ —É—Ä–æ–∫–∏

### Streak –±–æ–Ω—É—Å—ã:
- –î–µ–Ω—å 1: +0
- –î–µ–Ω—å 2: +5
- –î–µ–Ω—å 3: +10
- ...
- –î–µ–Ω—å 10+: +50 (–º–∞–∫—Å–∏–º—É–º)

### –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –º–µ—Ç—Ä–∏–∫–∏:
```javascript
effect: {
  words: 2,    // +2 –∫ —è–∑—ã–∫—É –ª—é–±–≤–∏ "—Å–ª–æ–≤–∞"
  heat: 1,     // +1 –∫ heat_score
  acts: 3      // +3 –∫ —è–∑—ã–∫—É –ª—é–±–≤–∏ "–¥–µ–ª–∞"
}
```

## üîÑ WebSocket —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

### –°–æ–±—ã—Ç–∏—è:
- `lesson:join-room` - –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∫–æ–º–Ω–∞—Ç–µ —É—Ä–æ–∫–∞
- `lesson:completed` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–∫–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º
- `lesson:progress-updated` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- `lesson:start-together` - –Ω–∞—á–∞–ª–æ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ —É—Ä–æ–∫–∞

## üìä API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```
GET    /api/lessons/daily           - –£—Ä–æ–∫ –¥–Ω—è
POST   /api/lessons/:id/complete    - –í—ã–ø–æ–ª–Ω–∏—Ç—å —É—Ä–æ–∫
GET    /api/lessons/progress        - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–∞—Ä—ã
GET    /api/lessons/history         - –ò—Å—Ç–æ—Ä–∏—è —É—Ä–æ–∫–æ–≤
GET    /api/lessons/stats           - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET    /api/lessons/themes          - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ç–µ–º–∞–º
POST   /api/lessons/relationship/metrics - –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏
GET    /api/lessons/weekly          - –£—Ä–æ–∫–∏ –Ω–µ–¥–µ–ª–∏
```

## üé® –¢–µ–º—ã —É—Ä–æ–∫–æ–≤

1. **words_of_affirmation** - –°–ª–æ–≤–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
2. **acts_of_service** - –î–µ–ª–∞ –∑–∞–±–æ—Ç—ã
3. **receiving_gifts** - –ü–æ–¥–∞—Ä–∫–∏
4. **quality_time** - –í—Ä–µ–º—è –≤–º–µ—Å—Ç–µ
5. **physical_touch** - –ü—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è
6. **heat_boosters** - –†–∞–∑–∂–∏–≥–∞–Ω–∏–µ —Å—Ç—Ä–∞—Å—Ç–∏
7. **attachment_healing** - –ò—Å—Ü–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏

## üöÄ –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

### 1. –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π:
```bash
cd server
npx sequelize-cli db:migrate
```

### 2. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏:
```bash
npx sequelize-cli db:seed:all
```

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:
```bash
npm run dev
```

### 4. –ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞:
```bash
cd client
npm run dev
```

## üì± –ê–Ω–∏–º–∞—Ü–∏–∏ Lottie

–í –ø–∞–ø–∫–µ `client/src/assets/lessons/` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —É—Ä–æ–∫–æ–≤:
- Love.json
- Relationship.json
- Couple sharing and caring love.json
- –ò –¥—Ä—É–≥–∏–µ...

–ê–Ω–∏–º–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–∫–∞.

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **AI-–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ò–ò –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —É—Ä–æ–∫–æ–≤
2. **–ì–æ–ª–æ—Å–æ–≤—ã–µ —É—Ä–æ–∫–∏** - –∞—É–¥–∏–æ-–∑–∞–¥–∞–Ω–∏—è
3. **–í–∏–¥–µ–æ-—É—Ä–æ–∫–∏** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–∏–¥–µ–æ
4. **–ì—Ä—É–ø–ø–æ–≤—ã–µ –≤—ã–∑–æ–≤—ã** - —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ —É—Ä–æ–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
5. **–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è** - —Å–∏—Å—Ç–µ–º–∞ –±–µ–π–¥–∂–µ–π –∏ –Ω–∞–≥—Ä–∞–¥
6. **–ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–∏–≤—ã—á–µ–∫** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è streak
7. **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** - push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
8. **–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** - –æ—Ç—á–µ—Ç—ã –æ —Ä–∞–∑–≤–∏—Ç–∏–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π

## üéØ –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- **Retention rate** - –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏—Ö—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- **Completion rate** - –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —É—Ä–æ–∫–æ–≤
- **Pair engagement** - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–±–æ–∏—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- **Heat score improvement** - —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –æ—Ç–Ω–æ—à–µ–Ω–∏–π
- **Streak length** - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å streak –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- **Backend**: Express, Sequelize, Socket.io, JWT
- **Frontend**: React, TypeScript, Framer Motion, Lottie React

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- WebSocket –¥–ª—è real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

---

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –Ω–∞—á–∞—Ç—å –ø–æ–ª—É—á–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–∏ –¥–ª—è —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Å–≤–æ–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π.
